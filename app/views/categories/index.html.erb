<div class='row'>
  <div class='col-lg-12'>
  <h2>CATEGORIES:</h2>

    <!-- <ul><% @categories.order(:name).each do |c| %>
      <li><%= link_to c.name, category_path(c) %></li>
    <% end %><ul> -->
    <ul id="categories"></ul>
  </div>
</div>

<script>
$("#categories").empty()

$(document).ready(function(){
  let CATEGORIES = []

  class Category {
    constructor(name, id) {
      this.name = name
      this.id = id

      CATEGORIES.push(this)
    }

    createLi() {
      return `<li class="categoryName">${this.name}</li>`
    }
  }

  $.ajax({
  type: "GET",
  url: window.location.pathname,
  dataType: "json"
  }).done(function(resp){

    resp.forEach(function(v){
      new Category(v.name, v.id)
    })
    //
    $("#categories").empty()

    CATEGORIES.sort(function(a,b){
      return a.name.toUpperCase() > b.name.toUpperCase()
    })

    for(let v of CATEGORIES){
      $("#categories").append(v.createLi())
    }
  })
})
</script>
